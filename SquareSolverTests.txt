1 -2  1 	1 	1
1 -2 -3 	2	3 -1
1  2  3		0
0  0  0		3
0 -1  2		4	2
0  0  0		5
1.e1000 1 1	0
1 1.e300 1	0

убрать get_one_char_ans
парсинг командной строки, глобальная переменная
switch sol res в отдельную ф-ю
вместо q y/n
assert разобрать если длинные
к некоторым assert добавить описание
убрать страшную вложенность с помощью goto